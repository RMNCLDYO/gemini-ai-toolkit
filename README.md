<p align="center">
    <a href="https://gemini.google.com/" title="Go to Gemini homepage">
        <img src="https://img.shields.io/badge/Google%20Gemini%20AI-45a5ff?style=for-the-badge&logo=data:image/png;base64,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" alt="Google Gemini AI">
    </a>
</p>

<p align="center">
    <a href="https://github.com/RMNCLDYO/gemini-ai-toolkit" title="Go to repo">
        <img src="https://img.shields.io/badge/dynamic/json?style=for-the-badge&label=Gemini+AI+Toolkit&query=version&url=https%3A%2F%2Fraw.githubusercontent.com%2FRMNCLDYO%2Fgemini-ai-toolkit%2Fmain%2F.github%2Fversion.json" alt="Gemini AI Toolkit">
    </a>
</p>

<p align="center">
    <a href=".github/CHANGELOG.md" title="Go to changelog"><img src="https://img.shields.io/badge/maintained-yes-2ea44f?style=for-the-badge" alt="maintained - yes"></a>
    <a href=".github/CONTRIBUTING.md" title="Go to contributions doc"><img src="https://img.shields.io/badge/contributions-welcome-2ea44f?style=for-the-badge" alt="contributions - welcome"></a>
</p>

<p align="center">
    <a href="/">
        <picture>
          <source media="(prefers-color-scheme: dark)" srcset="https://raw.githubusercontent.com/RMNCLDYO/gemini-ai-toolkit/main/.github/gemini-logo.png">
          <source media="(prefers-color-scheme: light)" srcset="https://raw.githubusercontent.com/RMNCLDYO/gemini-ai-toolkit/main/.github/gemini-logo.png">
          <img alt="Google Gemini AI" width="500" src="https://raw.githubusercontent.com/RMNCLDYO/gemini-ai-toolkit/main/.github/gemini-logo.png">
        </picture>
    </a>
</p>

> [!NOTE]
> *This toolkit currently supports Google’s Gemini 2.0 Pro and 2.0 Flash models (as of February 5, 2025).*

The Gemini AI Toolkit is the easiest way for developers to build with Google's Gemini AI models. It offers seamless integration for chat, text generation, and multimodal interactions, allowing you to process and analyze text, images, audio, video, code, and more—all in one comprehensive package with minimal dependencies.

## 🚀 Features

- **Multimodal Interaction**: Effortlessly process and analyze a wide array of file types—including PDFs, images, videos, audio files, text documents, and code snippets—unlocking new dimensions of AI-assisted understanding.
- **Interactive Chat**: Engage in dynamic, context-aware conversations with Gemini, enabling real-time dialogue that adapts to your needs.
- **Smart File Handling**: Seamlessly upload and process files from local paths or URLs, with automatic temporary storage management to keep your workspace clutter-free.
- **Command Support**: Utilize intuitive commands to control the toolkit's functionality, enhancing efficiency and user experience.
- **Customizable Parameters**: Tailor your AI interactions by enabling structured JSON output for automated processing, using streaming responses for faster interactions, and adjusting temperature, token limits, and safety thresholds and more to suit your needs
- **Lightweight Design**: Enjoy a streamlined experience with minimal dependencies—primarily leveraging the requests package—making setup and deployment a breeze.

## 📋 Table of Contents

- [Installation](#-installation)
- [API Key Configuration](#-configuration)
- [Usage](#-usage)
- [Special Commands](#-special-commands)
- [Advanced Configuration](#%EF%B8%8F-advanced-configuration)
- [Supported Models](#-supported-models)
- [Error Handling and Safety](#-error-handling-and-safety)
- [Supported File Types](#-supported-file-types)
- [Caching and Cleanup](#-caching-and-cleanup)
- [Contributing](#-contributing)
- [Reporting Issues](#-issues-and-support)
- [Submitting Pull Requests](#-feature-requests)
- [Versioning and Changelog](#-versioning-and-changelog)
- [Security](#-security)
- [License](#-license)

## 🛠 Installation

1. Clone the repository:
   ```bash
   git clone https://github.com/RMNCLDYO/gemini-ai-toolkit.git
   ```

2. Navigate to the repository folder:
   ```bash
   cd gemini-ai-toolkit
   ```

3. Install the required dependencies:
   ```bash
   pip install -r requirements.txt
   ```

## 🔑 Configuration
1. Obtain an API key from [Google AI Studio](https://aistudio.google.com/app/apikey).
2. You have three options for managing your API key:
   <details>
   <summary>Click here to view the API key configuration options</summary>
   
   - **Setting it as an environment variable on your device (recommended for everyday use)**
       - Navigate to your terminal.
       - Add your API key like so:
         ```shell
         export GEMINI_API_KEY=your_api_key
         ```
       This method allows the API key to be loaded automatically when using the wrapper or CLI.
     
   - **Using an .env file (recommended for development):**
       - Install python-dotenv if you haven't already: `pip install python-dotenv`.
       - Create a .env file in the project's root directory or rename `example.env` in the root folder to `.env` and replace `your_api_key_here` with your API key.
       - Add your API key to the .env file like so:
         ```makefile
         GEMINI_API_KEY=your_api_key
         ```
       This method allows the API key to be loaded automatically when using the wrapper or CLI, assuming you have python-dotenv installed and set up correctly.
     
   - **Direct Input:**
       - If you prefer not to use a `.env` file, you can directly pass your API key as an argument to the CLI or the wrapper functions.
         
         ***CLI***
         ```shell
         --api_key "your_api_key"
         ```
         ***Wrapper***
         ```shell
         api_key="your_api_key"
         ```
       This method requires manually inputting your API key each time you initiate an API call, ensuring flexibility for different deployment environments.
   </details>

## 💻 Usage

### Multimodal Mode
*For processing multiple input types including audio, video, text, images, code and a wide range of files. This mode allows you to upload files (from local paths or URLs), chat with the AI about the content, and maintain a knowledge base throughout the conversation.*

***CLI***
```bash
python cli.py --multimodal --prompt "Analyze both of these files and provide a summary of each, one by one. Don't overlook any details." --files file1.jpg https://example.com/file2.pdf
```

***Wrapper***
```python
from gemini import Multimodal

Multimodal().run(prompt="Analyze both of these files and provide a summary of each, one by one. Don't overlook any details.", files=["file1.jpg", "https://example.com/file2.pdf"])
```

### Chat Mode
*For interactive conversations with the AI model.*

***CLI***
```bash
python cli.py --chat
```

***Wrapper***
```python
from gemini import Chat

Chat().run()
```

### Text Mode
*For generating text based on a prompt or a set of instructions.*

***CLI***
```bash
python cli.py --text --prompt "Write a story about a magic backpack."
```

***Wrapper***
```python
from gemini import Text

Text().run(prompt="Write a story about a magic backpack.")
```

## 🔧 Special Commands
During interaction with the toolkit, you can use the following special commands:

- `/exit` or `/quit`: End the conversation and exit the program.
- `/clear`: Clear the conversation history (useful for saving API credits).
- `/upload`: Upload a file for multimodal processing. 
   - Usage: `/upload file_path_and_or_url [optional prompt]`
   - Example: `/upload file1.jpg https://example.com/file2.pdf Analyze the files and provide a summary of each`

## ⚙️ Advanced Configuration

| Description | CLI Flags | CLI Usage | Wrapper Usage |
|-------------|-----------|-----------|---------------|
| Chat mode | `-c`, `--chat` | `--chat` | *See mode usage above.* |
| Text mode | `-t`, `--text` | `--text` | *See mode usage above.* |
| Multimodal mode | `-m`, `--multimodal` | `--multimodal` | *See mode usage above.* |
| User prompt | `-p`, `--prompt` | `--prompt "Your prompt here"` | `prompt="Your prompt here"` |
| File inputs | `-f`, `--files` | `--files file1.jpg https://example.com/file2.pdf` | `files=["file1.jpg", "https://example.com/file2.pdf"]` |
| Enable streaming | `-s`, `--stream` | `--stream` | `stream=True` |
| Enable JSON output | `-js`, `--json` | `--json` | `json=True` |
| API Key | `-ak`, `--api_key` | `--api_key "your_api_key"` | `api_key="your_api_key"` |
| Model name | `-md`, `--model` | `--model "gemini-2.0-flash-lite-preview-02-05"` | `model="gemini-2.0-flash-lite-preview-02-05"` |
| System prompt | `-sp`, `--system_prompt` | `--system_prompt "Set custom instructions"` | `system_prompt="Set custom instructions"` |
| Max tokens | `-mt`, `--max_tokens` | `--max_tokens 1024` | `max_tokens=1024` |
| Temperature | `-tm`, `--temperature` | `--temperature 0.7` | `temperature=0.7` |
| Top-p | `-tp`, `--top_p` | `--top_p 0.9` | `top_p=0.9` |
| Top-k | `-tk`, `--top_k` | `--top_k 40` | `top_k=40` |
| Candidate count | `-cc`, `--candidate_count` | `--candidate_count 1` | `candidate_count=1` |
| Stop sequences | `-ss`, `--stop_sequences` | `--stop_sequences ["\n", "."]` | `stop_sequences=["\n", "."]` |
| Safety categories | `-sc`, `--safety_categories` | `--safety_categories ["HARM_CATEGORY_HARASSMENT"]` | `safety_categories=["HARM_CATEGORY_HARASSMENT"]` |
| Safety thresholds | `-st`, `--safety_thresholds` | `--safety_thresholds ["BLOCK_NONE"]` | `safety_thresholds=["BLOCK_NONE"]` |

## 📊 Supported Models

### `Gemini 2.0 Models`

| **Model**                             | **Input(s)**                    | **Output**                                          | **Context Length** |
|---------------------------------------|---------------------------------|-----------------------------------------------------|--------------------|
| `gemini-2.0-pro-exp-02-05`            | Audio, images, videos, and text | Text                                                | 8192               |
| `gemini-2.0-flash-001`                | Audio, images, videos, and text | Text                                                | 8192               |
| `gemini-2.0-flash-lite-preview-02-05` | Audio, images, videos, and text | Text                                                | 8192               |
| `gemini-2.0-flash-exp`                | Audio, images, videos, and text | Text                                                | 8192               |
| `gemini-2.0-flash-thinking-exp-01-21` | Audio, images, videos, and text | Text                                                | 8192               |

### `Gemini Base Models (Experimental)`

| **Model**              | **Input(s)**                    | **Output**                                          | **Context Length** |
|------------------------|---------------------------------|-----------------------------------------------------|--------------------|
| `gemini-exp-1206`      | Audio, images, videos, and text | Text                                                | 8192               |

### `Gemini 1.5 Models`

| **Model**              | **Input(s)**                    | **Output**                                          | **Context Length** |
|------------------------|---------------------------------|-----------------------------------------------------|--------------------|
| `gemini-1.5-flash`     | Audio, images, videos, and text | Text                                                | 8192               |
| `gemini-1.5-flash-8b`  | Audio, images, videos, and text | Text                                                | 8192               |
| `gemini-1.5-pro`       | Audio, images, videos, and text | Text                                                | 8192               |

### `Gemini 1.0 Models`

*Gemini 1.0 Pro is set to be deprecated on 2/15/2025*

| **Model**              | **Input(s)**                    | **Output**                                          | **Context Length** |
|------------------------|---------------------------------|-----------------------------------------------------|--------------------|
| `gemini-1.0-pro`       | Text                            | Text                                                | 2048               |

> [!NOTE]
> *The availability of specific models may be subject to change. Always refer to Google's official documentation for the most up-to-date information on model availability and capabilities. See base models docs [here](https://ai.google.dev/gemini-api/docs/models/gemini) and experimental model docs [here](https://ai.google.dev/gemini-api/docs/models/experimental-models).*

## 🔒 Error Handling and Safety

The Gemini AI Toolkit now includes robust error handling to help you diagnose and resolve issues quickly. Here are some common error codes and their solutions:

| HTTP Code | Status | Description | Solution |
|-----------|--------|-------------|----------|
| 400 | INVALID_ARGUMENT | Malformed request body | Check API reference for correct format and supported versions |
| 400 | FAILED_PRECONDITION | API not available in your country | Enable billing on your project in Google AI Studio |
| 403 | PERMISSION_DENIED | API key lacks permissions | Verify API key and access rights |
| 404 | NOT_FOUND | Resource not found | Check if all parameters are valid for your API version |
| 429 | RESOURCE_EXHAUSTED | Rate limit exceeded | Ensure you're within model rate limits or request a quota increase |
| 500 | INTERNAL | Unexpected error on Google's side | Retry after a short wait; report persistent issues |
| 503 | UNAVAILABLE | Service temporarily overloaded/down | Retry after a short wait; report persistent issues |

For rate limit errors (429), the toolkit will automatically pause for 15 seconds before retrying the request.

## 📁 Supported File Types

The Gemini AI Toolkit supports a wide range of file types for multimodal processing. Here are the supported file extensions:

| Category           | File Extensions |
|--------------------|-----------------|
| **Images**         | `jpg`, `jpeg`, `png`, `webp`, `gif`, `heic`, `heif` |
| **Videos**         | `mp4`, `mpeg`, `mpg`, `mov`, `avi`, `flv`, `webm`, `wmv`, `3gp` |
| **Audio**          | `wav`, `mp3`, `aiff`, `aac`, `ogg`, `flac` |
| **Text/Documents** | `txt`, `html`, `css`, `js`, `ts`, `csv`, `md`, `py`, `json`, `xml`, `rtf`, `pdf` |

> [!NOTE]
> *Google's Files API lets you store up to 20 GB of files per project, with a per-file maximum size of 2 GB. Files are stored for 48 hours.*

## 💾 Caching and Cleanup

The Gemini AI Toolkit implements a caching mechanism for downloaded files to improve performance and reduce unnecessary network requests. Here's how it works:

1. When a file is downloaded from a URL, it's stored in a temporary cache folder (`.gemini_ai_toolkit_cache`).
2. The file will be used to process the request and will be stored locally due to Google's upload requirements.
3. The cache is automatically cleaned up at the end of each session to prevent accumulation of temporary files.

You don't need to manage this cache manually, but it's good to be aware of its existence, especially if you're processing large files or have limited storage space.

## 🤝 Contributing
Contributions are welcome!

Please refer to [CONTRIBUTING.md](.github/CONTRIBUTING.md) for detailed guidelines on how to contribute to this project.

## 🐛 Issues and Support
Encountered a bug? We'd love to hear about it. Please follow these steps to report any issues:

1. Check if the issue has already been reported.
2. Use the [Bug Report](.github/ISSUE_TEMPLATE/bug_report.md) template to create a detailed report.
3. Submit the report [here](https://github.com/RMNCLDYO/gemini-ai-toolkit/issues).

Your report will help us make the project better for everyone.

## 💡 Feature Requests
Got an idea for a new feature? Feel free to suggest it. Here's how:

1. Check if the feature has already been suggested or implemented.
2. Use the [Feature Request](.github/ISSUE_TEMPLATE/feature_request.md) template to create a detailed request.
3. Submit the request [here](https://github.com/RMNCLDYO/gemini-ai-toolkit/issues).

Your suggestions for improvements are always welcome.

## 🔁 Versioning and Changelog
Stay up-to-date with the latest changes and improvements in each version:

- [CHANGELOG.md](.github/CHANGELOG.md) provides detailed descriptions of each release.

## 🔐 Security
Your security is important to us. If you discover a security vulnerability, please follow our responsible disclosure guidelines found in [SECURITY.md](.github/SECURITY.md). Please refrain from disclosing any vulnerabilities publicly until said vulnerability has been reported and addressed.

## 📄 License
Licensed under the MIT License. See [LICENSE](LICENSE) for details.
